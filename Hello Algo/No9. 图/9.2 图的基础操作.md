å›¾çš„åŸºç¡€æ“ä½œå¯åˆ†ä¸ºå¯¹â€œè¾¹â€çš„æ“ä½œå’Œå¯¹â€œé¡¶ç‚¹â€çš„æ“ä½œã€‚åœ¨â€œé‚»æ¥çŸ©é˜µâ€å’Œâ€œé‚»æ¥è¡¨â€ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ä¸‹ï¼Œå®ç°æ–¹å¼æœ‰æ‰€ä¸åŒã€‚

## 9.2.1 åŸºäºé‚»æ¥çŸ©é˜µçš„å®ç°
ç»™å®šä¸€ä¸ªé¡¶ç‚¹æ•°é‡ä¸ºÂ ğ‘›Â çš„æ— å‘å›¾ï¼Œåˆ™å„ç§æ“ä½œçš„å®ç°æ–¹å¼ä¸‹å›¾æ‰€ç¤ºã€‚
- **æ·»åŠ æˆ–åˆ é™¤è¾¹**ï¼šç›´æ¥åœ¨é‚»æ¥çŸ©é˜µä¸­ä¿®æ”¹æŒ‡å®šçš„è¾¹å³å¯ï¼Œä½¿ç”¨Â ğ‘‚(1)Â æ—¶é—´ã€‚è€Œç”±äºæ˜¯æ— å‘å›¾ï¼Œå› æ­¤éœ€è¦åŒæ—¶æ›´æ–°ä¸¤ä¸ªæ–¹å‘çš„è¾¹ã€‚
- **æ·»åŠ é¡¶ç‚¹**ï¼šåœ¨é‚»æ¥çŸ©é˜µçš„å°¾éƒ¨æ·»åŠ ä¸€è¡Œä¸€åˆ—ï¼Œå¹¶å…¨éƒ¨å¡«Â 0Â å³å¯ï¼Œä½¿ç”¨Â ğ‘‚(ğ‘›)Â æ—¶é—´ã€‚
- **åˆ é™¤é¡¶ç‚¹**ï¼šåœ¨é‚»æ¥çŸ©é˜µä¸­åˆ é™¤ä¸€è¡Œä¸€åˆ—ã€‚å½“åˆ é™¤é¦–è¡Œé¦–åˆ—æ—¶è¾¾åˆ°æœ€å·®æƒ…å†µï¼Œéœ€è¦å°†Â (ğ‘›âˆ’1)2Â ä¸ªå…ƒç´ â€œå‘å·¦ä¸Šç§»åŠ¨â€ï¼Œä»è€Œä½¿ç”¨Â ğ‘‚(ğ‘›2)Â æ—¶é—´ã€‚
- **åˆå§‹åŒ–**ï¼šä¼ å…¥Â ğ‘›Â ä¸ªé¡¶ç‚¹ï¼Œåˆå§‹åŒ–é•¿åº¦ä¸ºÂ ğ‘›Â çš„é¡¶ç‚¹åˆ—è¡¨Â `vertices`Â ï¼Œä½¿ç”¨Â ğ‘‚(ğ‘›)Â æ—¶é—´ï¼›åˆå§‹åŒ–Â ğ‘›Ã—ğ‘›Â å¤§å°çš„é‚»æ¥çŸ©é˜µÂ `adjMat`Â ï¼Œä½¿ç”¨Â ğ‘‚(ğ‘›2)Â æ—¶é—´ã€‚

1ï¼‰åˆå§‹åŒ–é‚»æ¥çŸ©é˜µ
![[Pasted image 20240603200427.png]]
2ï¼‰æ·»åŠ è¾¹
![[Pasted image 20240603201840.png]]
3ï¼‰åˆ é™¤è¾¹
![[Pasted image 20240603202113.png]]
4ï¼‰æ·»åŠ é¡¶ç‚¹
![[Pasted image 20240603202139.png]]
5ï¼‰åˆ é™¤é¡¶ç‚¹
![[Pasted image 20240603202151.png]]

```python
class GraphAdjMat:
	"""åŸºäºé‚»æ¥çŸ©é˜µå®ç°çš„æ— å‘å›¾ç±»"""
	
	def __init__(self, vertices: list[int], edges: list[list[int]]):
	    """æ„é€ æ–¹æ³•"""
	    # é¡¶ç‚¹åˆ—è¡¨ï¼Œå…ƒç´ ä»£è¡¨â€œé¡¶ç‚¹å€¼â€ï¼Œç´¢å¼•ä»£è¡¨â€œé¡¶ç‚¹ç´¢å¼•â€
	    self.vertices: list[int] = []
	    # é‚»æ¥çŸ©é˜µï¼Œè¡Œåˆ—ç´¢å¼•å¯¹åº”â€œé¡¶ç‚¹ç´¢å¼•â€
	    self.adj_mat: list[list[int]] = []
	    # æ·»åŠ é¡¶ç‚¹
	    for val in vertices:
	        self.add_vertex(val)
	    # æ·»åŠ è¾¹
	    # è¯·æ³¨æ„ï¼Œedges å…ƒç´ ä»£è¡¨é¡¶ç‚¹ç´¢å¼•ï¼Œå³å¯¹åº” vertices å…ƒç´ ç´¢å¼•
	    for e in edges:
	        self.add_edge(e[0], e[1])
	
	def size(self) -> int:
	    """è·å–é¡¶ç‚¹æ•°é‡"""
	    return len(self.vertices)
	
	def add_vertex(self, val: int):
	    """æ·»åŠ é¡¶ç‚¹"""
	    n = self.size()
	    # å‘é¡¶ç‚¹åˆ—è¡¨ä¸­æ·»åŠ æ–°é¡¶ç‚¹çš„å€¼
	    self.vertices.append(val)
	    # åœ¨é‚»æ¥çŸ©é˜µä¸­æ·»åŠ ä¸€è¡Œ
	    new_row = [0] * n
	    self.adj_mat.append(new_row)
	    # åœ¨é‚»æ¥çŸ©é˜µä¸­æ·»åŠ ä¸€åˆ—
	    for row in self.adj_mat:
	        row.append(0)
	
	def remove_vertex(self, index: int):
	    """åˆ é™¤é¡¶ç‚¹"""
	    if index >= self.size():
	        raise IndexError()
	    # åœ¨é¡¶ç‚¹åˆ—è¡¨ä¸­ç§»é™¤ç´¢å¼• index çš„é¡¶ç‚¹
	    self.vertices.pop(index)
	    # åœ¨é‚»æ¥çŸ©é˜µä¸­åˆ é™¤ç´¢å¼• index çš„è¡Œ
	    self.adj_mat.pop(index)
	    # åœ¨é‚»æ¥çŸ©é˜µä¸­åˆ é™¤ç´¢å¼• index çš„åˆ—
	    for row in self.adj_mat:
	        row.pop(index)
	
	def add_edge(self, i: int, j: int):
	    """æ·»åŠ è¾¹"""
	    # å‚æ•° i, j å¯¹åº” vertices å…ƒç´ ç´¢å¼•
	    # ç´¢å¼•è¶Šç•Œä¸ç›¸ç­‰å¤„ç†
	    if i < 0 or j < 0 or i >= self.size() or j >= self.size() or i == j:
	        raise IndexError()
	    # åœ¨æ— å‘å›¾ä¸­ï¼Œé‚»æ¥çŸ©é˜µå…³äºä¸»å¯¹è§’çº¿å¯¹ç§°ï¼Œå³æ»¡è¶³ (i, j) == (j, i)
	    self.adj_mat[i][j] = 1
	    self.adj_mat[j][i] = 1
	
	def remove_edge(self, i: int, j: int):
	    """åˆ é™¤è¾¹"""
	    # å‚æ•° i, j å¯¹åº” vertices å…ƒç´ ç´¢å¼•
	    # ç´¢å¼•è¶Šç•Œä¸ç›¸ç­‰å¤„ç†
	    if i < 0 or j < 0 or i >= self.size() or j >= self.size() or i == j:
	        raise IndexError()
	    self.adj_mat[i][j] = 0
	    self.adj_mat[j][i] = 0
	
	def print(self):
	    """æ‰“å°é‚»æ¥çŸ©é˜µ"""
	    print("é¡¶ç‚¹åˆ—è¡¨ =", self.vertices)
	    print("é‚»æ¥çŸ©é˜µ =")
	    print_matrix(self.adj_mat)
```
## 9.2.2 åŸºäºé‚»æ¥è¡¨çš„å®ç°
è®¾æ— å‘å›¾çš„é¡¶ç‚¹æ€»æ•°ä¸ºÂ ğ‘›ã€è¾¹æ€»æ•°ä¸ºÂ ğ‘šÂ ï¼Œåˆ™å¯æ ¹æ®ä¸‹å›¾æ‰€ç¤ºçš„æ–¹æ³•å®ç°å„ç§æ“ä½œã€‚
- **æ·»åŠ è¾¹**ï¼šåœ¨é¡¶ç‚¹å¯¹åº”é“¾è¡¨çš„æœ«å°¾æ·»åŠ è¾¹å³å¯ï¼Œä½¿ç”¨Â ğ‘‚(1)Â æ—¶é—´ã€‚å› ä¸ºæ˜¯æ— å‘å›¾ï¼Œæ‰€ä»¥éœ€è¦åŒæ—¶æ·»åŠ ä¸¤ä¸ªæ–¹å‘çš„è¾¹ã€‚
- **åˆ é™¤è¾¹**ï¼šåœ¨é¡¶ç‚¹å¯¹åº”é“¾è¡¨ä¸­æŸ¥æ‰¾å¹¶åˆ é™¤æŒ‡å®šè¾¹ï¼Œä½¿ç”¨Â ğ‘‚(ğ‘š)Â æ—¶é—´ã€‚åœ¨æ— å‘å›¾ä¸­ï¼Œéœ€è¦åŒæ—¶åˆ é™¤ä¸¤ä¸ªæ–¹å‘çš„è¾¹ã€‚
- **æ·»åŠ é¡¶ç‚¹**ï¼šåœ¨é‚»æ¥è¡¨ä¸­æ·»åŠ ä¸€ä¸ªé“¾è¡¨ï¼Œå¹¶å°†æ–°å¢é¡¶ç‚¹ä½œä¸ºé“¾è¡¨å¤´èŠ‚ç‚¹ï¼Œä½¿ç”¨Â ğ‘‚(1)Â æ—¶é—´ã€‚
- **åˆ é™¤é¡¶ç‚¹**ï¼šéœ€éå†æ•´ä¸ªé‚»æ¥è¡¨ï¼Œåˆ é™¤åŒ…å«æŒ‡å®šé¡¶ç‚¹çš„æ‰€æœ‰è¾¹ï¼Œä½¿ç”¨Â ğ‘‚(ğ‘›+ğ‘š)Â æ—¶é—´ã€‚
- **åˆå§‹åŒ–**ï¼šåœ¨é‚»æ¥è¡¨ä¸­åˆ›å»ºÂ ğ‘›Â ä¸ªé¡¶ç‚¹å’ŒÂ 2ğ‘šÂ æ¡è¾¹ï¼Œä½¿ç”¨Â ğ‘‚(ğ‘›+ğ‘š)Â æ—¶é—´ã€‚

1ï¼‰åˆå§‹åŒ–é‚»æ¥è¡¨
![[Pasted image 20240603202413.png]]
2ï¼‰æ·»åŠ è¾¹
![[Pasted image 20240603202428.png]]
3ï¼‰åˆ é™¤è¾¹
![[Pasted image 20240603202435.png]]
4ï¼‰æ·»åŠ é¡¶ç‚¹
![[Pasted image 20240603202443.png]]
5ï¼‰åˆ é™¤é¡¶ç‚¹
![[Pasted image 20240603202449.png]]

ä»£ç å®ç°ï¼š
- ä¸ºäº†æ–¹ä¾¿æ·»åŠ ä¸åˆ é™¤é¡¶ç‚¹ï¼Œä»¥åŠç®€åŒ–ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨åˆ—è¡¨ï¼ˆåŠ¨æ€æ•°ç»„ï¼‰æ¥ä»£æ›¿é“¾è¡¨ã€‚
- ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨é‚»æ¥è¡¨ï¼Œ`key`Â ä¸ºé¡¶ç‚¹å®ä¾‹ï¼Œ`value`Â ä¸ºè¯¥é¡¶ç‚¹çš„é‚»æ¥é¡¶ç‚¹åˆ—è¡¨ï¼ˆé“¾è¡¨ï¼‰ã€‚
```python
class GraphAdjList:
	"""åŸºäºé‚»æ¥è¡¨å®ç°çš„æ— å‘å›¾ç±»"""
	
	def __init__(self, edges: list[list[Vertex]]):
	    """æ„é€ æ–¹æ³•"""
	    # é‚»æ¥è¡¨ï¼Œkeyï¼šé¡¶ç‚¹ï¼Œvalueï¼šè¯¥é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹
	    self.adj_list = dict[Vertex, list[Vertex]]()
	    # æ·»åŠ æ‰€æœ‰é¡¶ç‚¹å’Œè¾¹
	    for edge in edges:
	        self.add_vertex(edge[0])
	        self.add_vertex(edge[1])
	        self.add_edge(edge[0], edge[1])
	
	def size(self) -> int:
	    """è·å–é¡¶ç‚¹æ•°é‡"""
	    return len(self.adj_list)
	
	def add_edge(self, vet1: Vertex, vet2: Vertex):
	    """æ·»åŠ è¾¹"""
	    if vet1 not in self.adj_list or vet2 not in self.adj_list or vet1 == vet2:
	        raise ValueError()
	    # æ·»åŠ è¾¹ vet1 - vet2
	    self.adj_list[vet1].append(vet2)
	    self.adj_list[vet2].append(vet1)
	
	def remove_edge(self, vet1: Vertex, vet2: Vertex):
	    """åˆ é™¤è¾¹"""
	    if vet1 not in self.adj_list or vet2 not in self.adj_list or vet1 == vet2:
	        raise ValueError()
	    # åˆ é™¤è¾¹ vet1 - vet2
	    self.adj_list[vet1].remove(vet2)
	    self.adj_list[vet2].remove(vet1)
	
	def add_vertex(self, vet: Vertex):
	    """æ·»åŠ é¡¶ç‚¹"""
	    if vet in self.adj_list:
	        return
	    # åœ¨é‚»æ¥è¡¨ä¸­æ·»åŠ ä¸€ä¸ªæ–°é“¾è¡¨
	    self.adj_list[vet] = []
	
	def remove_vertex(self, vet: Vertex):
	    """åˆ é™¤é¡¶ç‚¹"""
	    if vet not in self.adj_list:
	        raise ValueError()
	    # åœ¨é‚»æ¥è¡¨ä¸­åˆ é™¤é¡¶ç‚¹ vet å¯¹åº”çš„é“¾è¡¨
	    self.adj_list.pop(vet)
	    # éå†å…¶ä»–é¡¶ç‚¹çš„é“¾è¡¨ï¼Œåˆ é™¤æ‰€æœ‰åŒ…å« vet çš„è¾¹
	    for vertex in self.adj_list:
	        if vet in self.adj_list[vertex]:
	            self.adj_list[vertex].remove(vet)
	
	def print(self):
	    """æ‰“å°é‚»æ¥è¡¨"""
	    print("é‚»æ¥è¡¨ =")
	    for vertex in self.adj_list:
	        tmp = [v.val for v in self.adj_list[vertex]]
	        print(f"{vertex.val}: {tmp},")
```
## 9.2.3 æ•ˆç‡å¯¹æ¯”
è®¾å›¾ä¸­å…±æœ‰Â ğ‘›Â ä¸ªé¡¶ç‚¹å’ŒÂ ğ‘šÂ æ¡è¾¹ï¼Œä¸‹è¡¨å¯¹æ¯”äº†é‚»æ¥çŸ©é˜µå’Œé‚»æ¥è¡¨çš„æ—¶é—´æ•ˆç‡å’Œç©ºé—´æ•ˆç‡ã€‚

|        | é‚»æ¥çŸ©é˜µ    | é‚»æ¥è¡¨ï¼ˆé“¾è¡¨ï¼‰   | é‚»æ¥è¡¨ï¼ˆå“ˆå¸Œè¡¨ï¼‰  |
| ------ | ------- | --------- | --------- |
| åˆ¤æ–­æ˜¯å¦é‚»æ¥ | ğ‘‚(1)   | ğ‘‚(ğ‘š)    | ğ‘‚(1)     |
| æ·»åŠ è¾¹    | ğ‘‚(1)   | ğ‘‚(1)     | ğ‘‚(1)     |
| åˆ é™¤è¾¹    | ğ‘‚(1)   | ğ‘‚(ğ‘š)    | ğ‘‚(1)     |
| æ·»åŠ é¡¶ç‚¹   | ğ‘‚(ğ‘›)  | ğ‘‚(1)     | ğ‘‚(1)     |
| åˆ é™¤é¡¶ç‚¹   | ğ‘‚(ğ‘›2) | ğ‘‚(ğ‘›+ğ‘š) | ğ‘‚(ğ‘›)    |
| å†…å­˜ç©ºé—´å ç”¨ | ğ‘‚(ğ‘›2) | ğ‘‚(ğ‘›+ğ‘š) | ğ‘‚(ğ‘›+ğ‘š) |

è§‚å¯Ÿè¡¨ï¼Œä¼¼ä¹é‚»æ¥è¡¨ï¼ˆå“ˆå¸Œè¡¨ï¼‰çš„æ—¶é—´æ•ˆç‡ä¸ç©ºé—´æ•ˆç‡æœ€ä¼˜ã€‚ä½†å®é™…ä¸Šï¼Œåœ¨é‚»æ¥çŸ©é˜µä¸­æ“ä½œè¾¹çš„æ•ˆç‡æ›´é«˜ï¼Œåªéœ€ä¸€æ¬¡æ•°ç»„è®¿é—®æˆ–èµ‹å€¼æ“ä½œå³å¯ã€‚ç»¼åˆæ¥çœ‹ï¼Œé‚»æ¥çŸ©é˜µä½“ç°äº†â€œä»¥ç©ºé—´æ¢æ—¶é—´â€çš„åŸåˆ™ï¼Œè€Œé‚»æ¥è¡¨ä½“ç°äº†â€œä»¥æ—¶é—´æ¢ç©ºé—´â€çš„åŸåˆ™ã€‚