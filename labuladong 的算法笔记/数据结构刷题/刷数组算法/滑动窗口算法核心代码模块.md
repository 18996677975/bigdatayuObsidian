| LeetCode                                                                                                                                             | åŠ›æ‰£                                                                                                                                   | éš¾åº¦  |
| ---------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | --- |
| [3. Longest Substring Without Repeating Charactersopen in new window](https://leetcode.com/problems/longest-substring-without-repeating-characters/) | [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²open in new window](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)                      | ğŸŸ   |
| [438. Find All Anagrams in a Stringopen in new window](https://leetcode.com/problems/find-all-anagrams-in-a-string/)                                 | [438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯open in new window](https://leetcode.cn/problems/find-all-anagrams-in-a-string/)                                  | ğŸŸ   |
| [567. Permutation in Stringopen in new window](https://leetcode.com/problems/permutation-in-string/)                                                 | [567. å­—ç¬¦ä¸²çš„æ’åˆ—open in new window](https://leetcode.cn/problems/permutation-in-string/)                                                 | ğŸŸ   |
| [76. Minimum Window Substringopen in new window](https://leetcode.com/problems/minimum-window-substring/)                                            | [76. æœ€å°è¦†ç›–å­ä¸²open in new window](https://leetcode.cn/problems/minimum-window-substring/)                                               | ğŸ”´  |
| -                                                                                                                                                    | [å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²open in new window](https://leetcode.cn/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/) | ğŸŸ   |
| -                                                                                                                                                    | [å‰‘æŒ‡ Offer II 014. å­—ç¬¦ä¸²ä¸­çš„å˜ä½è¯open in new window](https://leetcode.cn/problems/MPnaiL/)                                                  | ğŸŸ   |
| -                                                                                                                                                    | [å‰‘æŒ‡ Offer II 015. å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å˜ä½è¯open in new window](https://leetcode.cn/problems/VabMRr/)                                                | ğŸŸ   |
| -                                                                                                                                                    | [å‰‘æŒ‡ Offer II 016. ä¸å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­å­—ç¬¦ä¸²open in new window](https://leetcode.cn/problems/wtcaE1/)                                             | ğŸŸ   |
| -                                                                                                                                                    | [å‰‘æŒ‡ Offer II 017. å«æœ‰æ‰€æœ‰å­—ç¬¦çš„æœ€çŸ­å­—ç¬¦ä¸²open in new window](https://leetcode.cn/problems/M1oyTv/)                                              | ğŸ”´  |

### æ»‘åŠ¨çª—å£æ¡†æ¶æ¦‚è§ˆ
**æ»‘åŠ¨çª—å£ç®—æ³•æŠ€å·§ä¸»è¦ç”¨æ¥è§£å†³å­æ•°ç»„é—®é¢˜ï¼Œæ¯”å¦‚è®©ä½ å¯»æ‰¾ç¬¦åˆæŸä¸ªæ¡ä»¶çš„æœ€é•¿/æœ€çŸ­å­æ•°ç»„**ã€‚
å¦‚æœç”¨æš´åŠ›è§£çš„è¯ï¼Œä½ éœ€è¦åµŒå¥— for å¾ªç¯è¿™æ ·ç©·ä¸¾æ‰€æœ‰å­æ•°ç»„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯Â `O(N^2)`ï¼š
```C++
for (int i = 0; i < nums.size(); i++) {
    for (int j = i; j < nums.size(); j++) {
        // nums[i, j] æ˜¯ä¸€ä¸ªå­æ•°ç»„
    }
}
```
æ»‘åŠ¨çª—å£ç®—æ³•æŠ€å·§çš„æ€è·¯ä¹Ÿä¸éš¾ï¼Œå°±æ˜¯ç»´æŠ¤ä¸€ä¸ªçª—å£ï¼Œä¸æ–­æ»‘åŠ¨ï¼Œç„¶åæ›´æ–°ç­”æ¡ˆï¼Œè¯¥ç®—æ³•çš„å¤§è‡´é€»è¾‘å¦‚ä¸‹ï¼š
```C++
int left = 0, right = 0;

while (right < nums.size()) {
    // å¢å¤§çª—å£
    window.add(nums[right]);
    right++;
    
    while (window needs shrink) {
        // ç¼©å°çª—å£
        window.remove(nums[left]);
        left++;
    }
}
```
åŸºäºæ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶å†™å‡ºçš„ä»£ç ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯Â `O(N)`ï¼Œæ¯”åµŒå¥— for å¾ªç¯çš„æš´åŠ›è§£æ³•æ•ˆç‡é«˜ã€‚

æ»‘åŠ¨çª—å£æ¨¡æ¿ï¼š
```python
# æ»‘åŠ¨çª—å£ç®—æ³•æ¡†æ¶
def slidingWindow(s: str):
    # ç”¨åˆé€‚çš„æ•°æ®ç»“æ„è®°å½•çª—å£ä¸­çš„æ•°æ®ï¼Œæ ¹æ®å…·ä½“åœºæ™¯å˜é€š
    # æ¯”å¦‚è¯´ï¼Œæˆ‘æƒ³è®°å½•çª—å£ä¸­å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå°±ç”¨ map
    # æˆ‘æƒ³è®°å½•çª—å£ä¸­çš„å…ƒç´ å’Œï¼Œå°±ç”¨ int
    window = dict()
    
    left = 0
    right = 0
    while right < len(s):
        # c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦
        c = s[right]
        window[c] = window.get(c, 0) + 1
        # å¢å¤§çª—å£
        right += 1
        # è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
        #...

        #/*** debug è¾“å‡ºçš„ä½ç½® ***/
        # æ³¨æ„åœ¨æœ€ç»ˆçš„è§£æ³•ä»£ç ä¸­ä¸è¦ print
        # å› ä¸º IO æ“ä½œå¾ˆè€—æ—¶ï¼Œå¯èƒ½å¯¼è‡´è¶…æ—¶
        # print(f"window: [{left}, {right})")
        #/********************/

        # åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        while left < right and "window needs shrink":
            # d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦
            d = s[left]
            window[d] -= 1
            if window[d] == 0:
                del window[d]
            # ç¼©å°çª—å£
            left += 1
            # è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            #...
```
**æ¡†æ¶ä¸­ä¸¤å¤„Â `...`Â è¡¨ç¤ºçš„æ›´æ–°çª—å£æ•°æ®çš„åœ°æ–¹ï¼Œåœ¨å…·ä½“çš„é¢˜ç›®ä¸­ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯å¾€è¿™é‡Œé¢å¡«ä»£ç é€»è¾‘**ã€‚è€Œä¸”ï¼Œè¿™ä¸¤ä¸ªÂ `...`Â å¤„çš„æ“ä½œåˆ†åˆ«æ˜¯æ‰©å¤§å’Œç¼©å°çª—å£çš„æ›´æ–°æ“ä½œï¼Œç­‰ä¼šä½ ä¼šå‘ç°å®ƒä»¬æ“ä½œæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚

### ä¸€ã€æœ€å°è¦†ç›–å­ä¸²
76 é¢˜ã€Œ [æœ€å°è¦†ç›–å­ä¸²open in new window](https://leetcode.cn/problems/minimum-window-substring/) ã€éš¾åº¦ Hardï¼š

**æ»‘åŠ¨çª—å£ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·**ï¼š
1ã€æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²Â `S`Â ä¸­ä½¿ç”¨åŒæŒ‡é’ˆä¸­çš„å·¦å³æŒ‡é’ˆæŠ€å·§ï¼Œåˆå§‹åŒ–Â `left = right = 0`ï¼ŒæŠŠç´¢å¼•**å·¦é—­å³å¼€**åŒºé—´Â `[left, right)`Â ç§°ä¸ºä¸€ä¸ªã€Œçª—å£ã€ã€‚
```ad-tip
title: ä¸ºä»€ä¹ˆè¦ã€Œå·¦é—­å³å¼€ã€åŒºé—´
**ç†è®ºä¸Šä½ å¯ä»¥è®¾è®¡ä¸¤ç«¯éƒ½å¼€æˆ–è€…ä¸¤ç«¯éƒ½é—­çš„åŒºé—´ï¼Œä½†è®¾è®¡ä¸ºå·¦é—­å³å¼€åŒºé—´æ˜¯æœ€æ–¹ä¾¿å¤„ç†çš„**ã€‚

å› ä¸ºè¿™æ ·åˆå§‹åŒ–Â `left = right = 0`Â æ—¶åŒºé—´Â `[0, 0)`Â ä¸­æ²¡æœ‰å…ƒç´ ï¼Œä½†åªè¦è®©Â `right`Â å‘å³ç§»åŠ¨ï¼ˆæ‰©å¤§ï¼‰ä¸€ä½ï¼ŒåŒºé—´Â `[0, 1)`Â å°±åŒ…å«ä¸€ä¸ªå…ƒç´ Â `0`Â äº†ã€‚

å¦‚æœä½ è®¾ç½®ä¸ºä¸¤ç«¯éƒ½å¼€çš„åŒºé—´ï¼Œé‚£ä¹ˆè®©Â `right`Â å‘å³ç§»åŠ¨ä¸€ä½åå¼€åŒºé—´Â `(0, 1)`Â ä»ç„¶æ²¡æœ‰å…ƒç´ ï¼›å¦‚æœä½ è®¾ç½®ä¸ºä¸¤ç«¯éƒ½é—­çš„åŒºé—´ï¼Œé‚£ä¹ˆåˆå§‹åŒºé—´Â `[0, 0]`Â å°±åŒ…å«äº†ä¸€ä¸ªå…ƒç´ ã€‚è¿™ä¸¤ç§æƒ…å†µéƒ½ä¼šç»™è¾¹ç•Œå¤„ç†å¸¦æ¥ä¸å¿…è¦çš„éº»çƒ¦ã€‚
```

2ã€æˆ‘ä»¬å…ˆä¸æ–­åœ°å¢åŠ Â `right`Â æŒ‡é’ˆæ‰©å¤§çª—å£Â `[left, right)`ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ç¬¦åˆè¦æ±‚ï¼ˆåŒ…å«äº†Â `T`Â ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼‰ã€‚

3ã€æ­¤æ—¶ï¼Œæˆ‘ä»¬åœæ­¢å¢åŠ Â `right`ï¼Œè½¬è€Œä¸æ–­å¢åŠ Â `left`Â æŒ‡é’ˆç¼©å°çª—å£Â `[left, right)`ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼ˆä¸åŒ…å«Â `T`Â ä¸­çš„æ‰€æœ‰å­—ç¬¦äº†ï¼‰ã€‚åŒæ—¶ï¼Œæ¯æ¬¡å¢åŠ Â `left`ï¼Œæˆ‘ä»¬éƒ½è¦æ›´æ–°ä¸€è½®ç»“æœã€‚

4ã€é‡å¤ç¬¬ 2 å’Œç¬¬ 3 æ­¥ï¼Œç›´åˆ°Â `right`Â åˆ°è¾¾å­—ç¬¦ä¸²Â `S`Â çš„å°½å¤´ã€‚

è¿™ä¸ªæ€è·¯å…¶å®ä¹Ÿä¸éš¾ï¼Œ**ç¬¬ 2 æ­¥ç›¸å½“äºåœ¨å¯»æ‰¾ä¸€ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œç„¶åç¬¬ 3 æ­¥åœ¨ä¼˜åŒ–è¿™ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜è§£**ï¼Œä¹Ÿå°±æ˜¯æœ€çŸ­çš„è¦†ç›–å­ä¸²ã€‚å·¦å³æŒ‡é’ˆè½®æµå‰è¿›ï¼Œçª—å£å¤§å°å¢å¢å‡å‡ï¼Œå°±å¥½åƒä¸€æ¡æ¯›æ¯›è™«ï¼Œä¸€ä¼¸ä¸€ç¼©ï¼Œä¸æ–­å‘å³æ»‘åŠ¨ï¼Œè¿™å°±æ˜¯ã€Œæ»‘åŠ¨çª—å£ã€è¿™ä¸ªåå­—çš„æ¥å†ã€‚

ä¸‹é¢ç”»å›¾ç†è§£ä¸€ä¸‹ï¼Œ`needs`Â å’ŒÂ `window`Â ç›¸å½“äºè®¡æ•°å™¨ï¼Œåˆ†åˆ«è®°å½•Â `T`Â ä¸­å­—ç¬¦å‡ºç°æ¬¡æ•°å’Œã€Œçª—å£ã€ä¸­çš„ç›¸åº”å­—ç¬¦çš„å‡ºç°æ¬¡æ•°ã€‚
![[Pasted image 20240616145150.png]]
å¢åŠ Â `right`ï¼Œç›´åˆ°çª—å£Â `[left, right)`Â åŒ…å«äº†Â `T`Â ä¸­æ‰€æœ‰å­—ç¬¦ï¼š
![[Pasted image 20240616145159.png]]
ç°åœ¨å¼€å§‹å¢åŠ Â `left`ï¼Œç¼©å°çª—å£Â `[left, right)`ï¼š
![[Pasted image 20240616145207.png]]
ç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼Œ`left`Â ä¸å†ç»§ç»­ç§»åŠ¨ï¼š
![[Pasted image 20240616145215.png]]
ä¹‹åé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œå…ˆç§»åŠ¨Â `right`ï¼Œå†ç§»åŠ¨Â `left` â€¦â€¦ ç›´åˆ°Â `right`Â æŒ‡é’ˆåˆ°è¾¾å­—ç¬¦ä¸²Â `S`Â çš„æœ«ç«¯ï¼Œç®—æ³•ç»“æŸã€‚

```python
class Solution:  
    def minWindow(self, s: str, t: str) -> str:  
        need, window = dict(), dict()  
        for c in t:  
            need[c] = need.get(c, 0) + 1  
  
        l, r = 0, 0  
        v = 0  
        start, length = 0, 10 ** 5 + 1  
  
        while r < len(s):  
            c = s[r]  
            r += 1  
            if c in need:  
                window[c] = window.get(c, 0) + 1  
                if need[c] == window[c]:  
                    v += 1  
  
            while v == len(need):  
                if r - l < length:  
                    start = l  
                    length = r - l  
  
                d = s[l]  
                l += 1  
  
                if d in need:  
                    if need[d] == window[d]:  
                        v -= 1  
                    window[d] -= 1  
  
        return "" if length == (10 ** 5 + 1) else s[start:start + length]
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æˆ‘ä»¬å‘ç°æŸä¸ªå­—ç¬¦åœ¨Â `window`Â çš„æ•°é‡æ»¡è¶³äº†Â `need`Â çš„éœ€è¦ï¼Œå°±è¦æ›´æ–°Â `valid`ï¼Œè¡¨ç¤ºæœ‰ä¸€ä¸ªå­—ç¬¦å·²ç»æ»¡è¶³è¦æ±‚ã€‚è€Œä¸”ï¼Œä½ èƒ½å‘ç°ï¼Œä¸¤æ¬¡å¯¹çª—å£å†…æ•°æ®çš„æ›´æ–°æ“ä½œæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚

å½“Â `valid == need.size()`Â æ—¶ï¼Œè¯´æ˜Â `T`Â ä¸­æ‰€æœ‰å­—ç¬¦å·²ç»è¢«è¦†ç›–ï¼Œå·²ç»å¾—åˆ°ä¸€ä¸ªå¯è¡Œçš„è¦†ç›–å­ä¸²ï¼Œç°åœ¨åº”è¯¥å¼€å§‹æ”¶ç¼©çª—å£äº†ï¼Œä»¥ä¾¿å¾—åˆ°ã€Œæœ€å°è¦†ç›–å­ä¸²ã€ã€‚

ç§»åŠ¨Â `left`Â æ”¶ç¼©çª—å£æ—¶ï¼Œçª—å£å†…çš„å­—ç¬¦éƒ½æ˜¯å¯è¡Œè§£ï¼Œæ‰€ä»¥åº”è¯¥åœ¨æ”¶ç¼©çª—å£çš„é˜¶æ®µè¿›è¡Œæœ€å°è¦†ç›–å­ä¸²çš„æ›´æ–°ï¼Œä»¥ä¾¿ä»å¯è¡Œè§£ä¸­æ‰¾åˆ°é•¿åº¦æœ€çŸ­çš„æœ€ç»ˆç»“æœã€‚

è‡³æ­¤ï¼Œåº”è¯¥å¯ä»¥å®Œå…¨ç†è§£è¿™å¥—æ¡†æ¶äº†ï¼Œæ»‘åŠ¨çª—å£ç®—æ³•åˆä¸éš¾ï¼Œå°±æ˜¯ç»†èŠ‚é—®é¢˜è®©äººçƒ¦å¾—å¾ˆã€‚**ä»¥åé‡åˆ°æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œä½ å°±æŒ‰ç…§è¿™æ¡†æ¶å†™ä»£ç ï¼Œä¿å‡†æ²¡æœ‰ bugï¼Œè¿˜çœäº‹å„¿**ã€‚

### äºŒã€å­—ç¬¦ä¸²æ’åˆ—
567 é¢˜ã€Œ [å­—ç¬¦ä¸²çš„æ’åˆ—open in new window](https://leetcode.cn/problems/permutation-in-string/) ã€ï¼Œéš¾åº¦ä¸­ç­‰
**ç»™ä½ ä¸€ä¸ªÂ `S`Â å’Œä¸€ä¸ªÂ `T`ï¼Œè¯·é—®ä½ Â `S`Â ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå­ä¸²ï¼ŒåŒ…å«Â `T`Â ä¸­æ‰€æœ‰å­—ç¬¦ä¸”ä¸åŒ…å«å…¶ä»–å­—ç¬¦**ï¼Ÿ
```python
class Solution:  
    def checkInclusion(self, s1: str, s2: str) -> bool:  
        need, window = dict(), dict()  
        for c in s1:  
            need[c] = need.get(c, 0) + 1  
  
        l, r = 0, 0  
        v = 0  
  
        while r < len(s2):  
            c = s2[r]  
            r += 1  
            if c in need:  
                window[c] = window.get(c, 0) + 1  
                if window[c] == need[c]:  
                    v += 1  
  
            while r - l == len(s1):  
                if v == len(need):  
                    return True  
  
                d = s2[l]  
                l += 1  
                if d in need:  
                    if window[d] == need[d]:  
                        v -= 1  
                    window[d] -= 1  
  
        return False
```

### ä¸‰ã€æ‰¾æ‰€æœ‰å­—æ¯å¼‚ä½è¯
438 é¢˜ã€Œ [æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯open in new window](https://leetcode.cn/problems/find-all-anagrams-in-a-string/) ã€ï¼Œéš¾åº¦ä¸­ç­‰
**ç›¸å½“äºï¼Œè¾“å…¥ä¸€ä¸ªä¸²Â `S`ï¼Œä¸€ä¸ªä¸²Â `T`ï¼Œæ‰¾åˆ°Â `S`Â ä¸­æ‰€æœ‰Â `T`Â çš„æ’åˆ—ï¼Œè¿”å›å®ƒä»¬çš„èµ·å§‹ç´¢å¼•**ã€‚
```python
class Solution:  
    def findAnagrams(self, s: str, p: str) -> List[int]:  
        need, window = dict(), dict()  
        for c in p:  
            need[c] = need.get(c, 0) + 1  
  
        l, r = 0, 0  
        v = 0  
        res = []  
  
        while r < len(s):  
            c = s[r]  
            r += 1  
  
            if c in need:  
                window[c] = window.get(c, 0) + 1  
                if window[c] == need[c]:  
                    v += 1  
  
            while r - l >= len(p):  
                if v == len(need):  
                    res.append(l)  
  
                d = s[l]  
                l += 1  
                if d in need:  
                    if window[d] == need[d]:  
                        v -= 1  
                    window[d] -= 1  
  
        return res
```

### å››ã€æœ€é•¿æ— é‡å¤å­ä¸²
3 é¢˜ã€Œ [æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²open in new window](https://leetcode.cn/problems/longest-substring-without-repeating-characters/) ã€ï¼Œéš¾åº¦ä¸­ç­‰
