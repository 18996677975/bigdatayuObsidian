|LeetCode|åŠ›æ‰£|éš¾åº¦|
|---|---|---|
|[297. Serialize and Deserialize Binary Tree](https://leetcode.com/problems/serialize-and-deserialize-binary-tree/)|[297. äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–](https://leetcode.cn/problems/serialize-and-deserialize-binary-tree/)|ğŸ”´|
|-|[å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘](https://leetcode.cn/problems/xu-lie-hua-er-cha-shu-lcof/)|ğŸ”´|
|-|[å‰‘æŒ‡ Offer II 048. åºåˆ—åŒ–ä¸ååºåˆ—åŒ–äºŒå‰æ ‘](https://leetcode.cn/problems/h54YBf/)|ğŸ”´|

æœ¬æ–‡æ˜¯æ‰¿æ¥Â [ä¸œå“¥å¸¦ä½ åˆ·äºŒå‰æ ‘ï¼ˆçº²é¢†ç¯‡ï¼‰](https://labuladong.online/algo/essential-technique/binary-tree-summary/)Â çš„ç¬¬ä¸‰ç¯‡æ–‡ç« ï¼Œå‰æ–‡Â [ä¸œå“¥å¸¦ä½ åˆ·äºŒå‰æ ‘ï¼ˆæ„é€ ç¯‡ï¼‰](https://labuladong.online/algo/data-structure/binary-tree-part2/)Â å¸¦ä½ å­¦ä¹ äº†äºŒå‰æ ‘æ„é€ æŠ€å·§ï¼Œæœ¬æ–‡åŠ å¤§éš¾åº¦ï¼Œè®©ä½ å¯¹äºŒå‰æ ‘åŒæ—¶è¿›è¡Œã€Œåºåˆ—åŒ–ã€å’Œã€Œååºåˆ—åŒ–ã€ã€‚

è¦è¯´åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œå¾—å…ˆä» JSON æ•°æ®æ ¼å¼è¯´èµ·ã€‚

JSON çš„è¿ç”¨éå¸¸å¹¿æ³›ï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸å°†å˜æˆè¯­è¨€ä¸­çš„ç»“æ„ä½“åºåˆ—åŒ–æˆ JSON å­—ç¬¦ä¸²ï¼Œå­˜å…¥ç¼“å­˜æˆ–è€…é€šè¿‡ç½‘ç»œå‘é€ç»™è¿œç«¯æœåŠ¡ï¼Œæ¶ˆè´¹è€…æ¥å— JSON å­—ç¬¦ä¸²ç„¶åè¿›è¡Œååºåˆ—åŒ–ï¼Œå°±å¯ä»¥å¾—åˆ°åŸå§‹æ•°æ®äº†ã€‚

è¿™å°±æ˜¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ç›®çš„ï¼Œä»¥æŸç§ç‰¹å®šæ ¼å¼ç»„ç»‡æ•°æ®ï¼Œä½¿å¾—æ•°æ®å¯ä»¥ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€ã€‚

é‚£ä¹ˆå‡è®¾ç°åœ¨æœ‰ä¸€æ£µç”¨ Java å®ç°çš„äºŒå‰æ ‘ï¼Œæˆ‘æƒ³æŠŠå®ƒé€šè¿‡æŸäº›æ–¹å¼å­˜å‚¨ä¸‹æ¥ï¼Œç„¶åç”¨ C++ è¯»å–è¿™æ£µå¹¶è¿˜åŸè¿™æ£µäºŒå‰æ ‘çš„ç»“æ„ï¼Œæ€ä¹ˆåŠï¼Ÿè¿™å°±éœ€è¦å¯¹äºŒå‰æ ‘è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–äº†ã€‚

### é›¶ã€å‰/ä¸­/ååºå’ŒäºŒå‰æ ‘çš„å”¯ä¸€æ€§
è°ˆå…·ä½“çš„é¢˜ç›®ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š**ä»€ä¹ˆæ ·çš„åºåˆ—åŒ–çš„æ•°æ®å¯ä»¥ååºåˆ—åŒ–å‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘**ï¼Ÿ

æ¯”å¦‚è¯´ï¼Œå¦‚æœç»™ä½ ä¸€æ£µäºŒå‰æ ‘çš„å‰åºéå†ç»“æœï¼Œä½ æ˜¯å¦èƒ½å¤Ÿæ ¹æ®è¿™ä¸ªç»“æœè¿˜åŸå‡ºè¿™æ£µäºŒå‰æ ‘å‘¢ï¼Ÿ

ç­”æ¡ˆæ˜¯ä¹Ÿè®¸å¯ä»¥ï¼Œä¹Ÿè®¸ä¸å¯ä»¥ï¼Œå…·ä½“è¦çœ‹ä½ ç»™çš„å‰åºéå†ç»“æœæ˜¯å¦åŒ…å«ç©ºæŒ‡é’ˆçš„ä¿¡æ¯ã€‚å¦‚æœåŒ…å«äº†ç©ºæŒ‡é’ˆï¼Œé‚£ä¹ˆå°±å¯ä»¥å”¯ä¸€ç¡®å®šä¸€æ£µäºŒå‰æ ‘ï¼Œå¦åˆ™å°±ä¸è¡Œã€‚

ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœæˆ‘ç»™ä½ è¿™æ ·ä¸€ä¸ªä¸åŒ…å«ç©ºæŒ‡é’ˆçš„å‰åºéå†ç»“æœÂ `[1,2,3,4,5]`ï¼Œé‚£ä¹ˆå¦‚ä¸‹ä¸¤æ£µäºŒå‰æ ‘éƒ½æ˜¯æ»¡è¶³è¿™ä¸ªå‰åºéå†ç»“æœçš„ï¼š
![[Pasted image 20240717000732.png]]

æ‰€ä»¥ç»™å®šä¸åŒ…å«ç©ºæŒ‡é’ˆä¿¡æ¯çš„å‰åºéå†ç»“æœï¼Œæ˜¯ä¸èƒ½è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘çš„ã€‚

ä½†å¦‚æœæˆ‘çš„å‰åºéå†ç»“æœåŒ…å«ç©ºæŒ‡é’ˆçš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±èƒ½è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘äº†ã€‚æ¯”å¦‚è¯´ç”¨Â `#`Â è¡¨ç¤ºç©ºæŒ‡é’ˆï¼Œä¸Šå›¾å·¦ä¾§çš„äºŒå‰æ ‘çš„å‰åºéå†ç»“æœå°±æ˜¯Â `[1,2,3,#,#,4,#,#,5,#,#]`ï¼Œä¸Šå›¾å³ä¾§çš„äºŒå‰æ ‘çš„å‰åºéå†ç»“æœå°±æ˜¯Â `[1,2,#,3,#,#,4,5,#,#,#]`ï¼Œå®ƒä¿©å°±åŒºåˆ†å¼€äº†ã€‚

é‚£ä¹ˆä¼°è®¡å°±æœ‰èªæ˜çš„å°ä¼™ä¼´è¯´äº†ï¼šä¸œå“¥æˆ‘æ‡‚äº†ï¼Œç”­ç®¡æ˜¯å‰ä¸­ååºå“ªä¸€ç§éå†é¡ºåºï¼Œåªè¦åºåˆ—åŒ–çš„ç»“æœä¸­åŒ…å«äº†ç©ºæŒ‡é’ˆçš„ä¿¡æ¯ï¼Œå°±èƒ½è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘äº†ã€‚

é¦–å…ˆè¦å¤¸ä¸€ä¸‹è¿™ç§ä¸¾ä¸€åä¸‰çš„æ€ç»´ï¼Œä½†å¾ˆä¸å¹¸ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ï¼Œå³ä¾¿ä½ åŒ…å«äº†ç©ºæŒ‡é’ˆçš„ä¿¡æ¯ï¼Œä¹Ÿåªæœ‰å‰åºå’Œååºçš„éå†ç»“æœæ‰èƒ½å”¯ä¸€è¿˜åŸäºŒå‰æ ‘ï¼Œä¸­åºéå†ç»“æœåšä¸åˆ°ã€‚

æœ¬æ–‡åé¢ä¼šå…·ä½“æ¢è®¨è¿™ä¸ªé—®é¢˜ï¼Œè¿™é‡Œåªç®€å•è¯´ä¸‹åŸå› ï¼šå› ä¸ºå‰åº/ååºéå†çš„ç»“æœä¸­ï¼Œå¯ä»¥ç¡®å®šæ ¹èŠ‚ç‚¹çš„ä½ç½®ï¼Œè€Œä¸­åºéå†çš„ç»“æœä¸­ï¼Œæ ¹èŠ‚ç‚¹çš„ä½ç½®æ˜¯æ— æ³•ç¡®å®šçš„ã€‚

æ›´ç›´è§‚çš„ï¼Œæ¯”å¦‚å¦‚ä¸‹ä¸¤æ£µäºŒå‰æ ‘æ˜¾ç„¶æ‹¥æœ‰ä¸åŒçš„ç»“æ„ï¼Œä½†å®ƒä¿©çš„ä¸­åºéå†ç»“æœéƒ½æ˜¯Â `[#,1,#,1,#]`ï¼Œæ— æ³•åŒºåˆ†ï¼š
![[Pasted image 20240717000804.png]]

è¯´äº†è¿™ä¹ˆå¤šï¼Œæ€»ç»“ä¸‹ç»“è®ºï¼Œ**å½“äºŒå‰æ ‘ä¸­èŠ‚ç‚¹çš„å€¼ä¸å­˜åœ¨é‡å¤æ—¶**ï¼š

1. å¦‚æœä½ çš„åºåˆ—åŒ–ç»“æœä¸­**ä¸åŒ…å«ç©ºæŒ‡é’ˆçš„ä¿¡æ¯**ï¼Œä¸”ä½ åªç»™å‡º**ä¸€ç§**éå†é¡ºåºï¼Œé‚£ä¹ˆä½ æ— æ³•è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘ã€‚
2. å¦‚æœä½ çš„åºåˆ—åŒ–ç»“æœä¸­**ä¸åŒ…å«ç©ºæŒ‡é’ˆçš„ä¿¡æ¯**ï¼Œä¸”ä½ ä¼šç»™å‡º**ä¸¤ç§**éå†é¡ºåºï¼Œé‚£ä¹ˆæŒ‰ç…§å‰æ–‡Â [ä¸œå“¥æ‰‹æŠŠæ‰‹å¸¦ä½ åˆ·äºŒå‰æ ‘ï¼ˆæ„é€ ç¯‡ï¼‰](https://labuladong.online/algo/data-structure/binary-tree-part2/)Â æ‰€è¯´ï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼š
    2.1. å¦‚æœä½ ç»™å‡ºçš„æ˜¯å‰åºå’Œä¸­åºï¼Œæˆ–è€…ååºå’Œä¸­åºï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘ã€‚
    2.2. å¦‚æœä½ ç»™å‡ºå‰åºå’Œååºï¼Œé‚£ä¹ˆä½ æ— æ³•è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘ã€‚
3. å¦‚æœä½ çš„åºåˆ—åŒ–ç»“æœä¸­**åŒ…å«ç©ºæŒ‡é’ˆçš„ä¿¡æ¯**ï¼Œä¸”ä½ åªç»™å‡º**ä¸€ç§**éå†é¡ºåºï¼Œä¹Ÿè¦åˆ†ä¸¤ç§æƒ…å†µï¼š
    3.1. å¦‚æœä½ ç»™å‡ºçš„æ˜¯å‰åºæˆ–è€…ååºï¼Œé‚£ä¹ˆä½ å¯ä»¥è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘ã€‚
    3.2. å¦‚æœä½ ç»™å‡ºçš„æ˜¯ä¸­åºï¼Œé‚£ä¹ˆä½ æ— æ³•è¿˜åŸå‡ºå”¯ä¸€çš„ä¸€æ£µäºŒå‰æ ‘ã€‚

### ä¸€ã€é¢˜ç›®æè¿°
åŠ›æ‰£ç¬¬ 297 é¢˜ã€Œ [äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–](https://leetcode.cn/problems/serialize-and-deserialize-binary-tree/) ã€å°±æ˜¯ç»™ä½ è¾“å…¥ä¸€æ£µäºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹Â `root`ï¼Œè¦æ±‚ä½ å®ç°å¦‚ä¸‹ä¸€ä¸ªç±»ï¼š
```python
class Codec:
    
    # æŠŠä¸€æ£µäºŒå‰æ ‘åºåˆ—åŒ–æˆå­—ç¬¦ä¸²
    def serialize(self, root: TreeNode) -> str:
        pass

    # æŠŠå­—ç¬¦ä¸²ååºåˆ—åŒ–æˆäºŒå‰æ ‘
    def deserialize(self, data: str) -> TreeNode:
        pass
```
æˆ‘ä»¬å¯ä»¥ç”¨Â `serialize`Â æ–¹æ³•å°†äºŒå‰æ ‘åºåˆ—åŒ–æˆå­—ç¬¦ä¸²ï¼Œç”¨Â `deserialize`Â æ–¹æ³•å°†åºåˆ—åŒ–çš„å­—ç¬¦ä¸²ååºåˆ—åŒ–æˆäºŒå‰æ ‘ï¼Œè‡³äºä»¥ä»€ä¹ˆæ ¼å¼åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œè¿™ä¸ªå®Œå…¨ç”±ä½ å†³å®šã€‚

æ¯”å¦‚è¯´è¾“å…¥å¦‚ä¸‹è¿™æ ·ä¸€æ£µäºŒå‰æ ‘ï¼š
![[Pasted image 20240717000925.png]]

`serialize`Â æ–¹æ³•ä¹Ÿè®¸ä¼šæŠŠå®ƒåºåˆ—åŒ–æˆå­—ç¬¦ä¸²Â `2,1,#,6,#,#,3,#,#`ï¼Œå…¶ä¸­Â `#`Â è¡¨ç¤ºÂ `null`Â æŒ‡é’ˆï¼Œé‚£ä¹ˆæŠŠè¿™ä¸ªå­—ç¬¦ä¸²å†è¾“å…¥Â `deserialize`Â æ–¹æ³•ï¼Œä¾ç„¶å¯ä»¥è¿˜åŸå‡ºè¿™æ£µäºŒå‰æ ‘ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¼šæˆå¯¹å„¿ä½¿ç”¨ï¼Œä½ åªè¦ä¿è¯ä»–ä¿©èƒ½å¤Ÿè‡ªæ´½å°±è¡Œäº†ã€‚

æƒ³è±¡ä¸€ä¸‹ï¼ŒäºŒå‰æ ‘æ˜¯ä¸€ä¸ªäºŒç»´å¹³é¢å†…çš„ç»“æ„ï¼Œè€Œåºåˆ—åŒ–å‡ºæ¥çš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªçº¿æ€§çš„ä¸€ç»´ç»“æ„ã€‚**æ‰€è°“çš„åºåˆ—åŒ–ä¸è¿‡å°±æ˜¯æŠŠç»“æ„åŒ–çš„æ•°æ®ã€Œæ‰“å¹³ã€ï¼Œæœ¬è´¨å°±æ˜¯åœ¨è€ƒå¯ŸäºŒå‰æ ‘çš„éå†æ–¹å¼**ã€‚

äºŒå‰æ ‘çš„éå†æ–¹å¼æœ‰å“ªäº›ï¼Ÿé€’å½’éå†æ–¹å¼æœ‰å‰åºéå†ï¼Œä¸­åºéå†ï¼Œååºéå†ï¼›è¿­ä»£æ–¹å¼ä¸€èˆ¬æ˜¯å±‚çº§éå†ã€‚

### äºŒã€å‰åºéå†è§£æ³•
å‰æ–‡Â [å­¦ä¹ æ•°æ®ç»“æ„å’Œç®—æ³•çš„æ¡†æ¶æ€ç»´](https://labuladong.online/algo/essential-technique/abstraction-of-algorithm/)Â è¯´è¿‡äº†äºŒå‰æ ‘çš„å‡ ç§éå†æ–¹å¼ï¼Œå‰åºéå†æ¡†æ¶å¦‚ä¸‹ï¼š
```python
def traverse(root):
    if root is None:
        return
    # å‰åºä½ç½®çš„ä»£ç 
    traverse(root.left)
    traverse(root.right)
```
çœŸçš„å¾ˆç®€å•ï¼Œåœ¨é€’å½’éå†ä¸¤æ£µå­æ ‘ä¹‹å‰å†™çš„ä»£ç å°±æ˜¯å‰åºéå†ä»£ç ï¼Œé‚£ä¹ˆè¯·ä½ çœ‹ä¸€çœ‹å¦‚ä¸‹ä¼ªç ï¼š
```python
from typing import List

res: List[int]
def traverse(root: TreeNode) -> None:
    if root is None:
        # æš‚ä¸”ç”¨æ•°å­— -1 ä»£è¡¨ç©ºæŒ‡é’ˆ null
        res.append(-1)
        return

    /****** å‰åºä½ç½® ******/
    res.append(root.val)
    /***********************/

    traverse(root.left)
    traverse(root.right)
```
è°ƒç”¨Â `traverse`Â å‡½æ•°ä¹‹åï¼Œä½ æ˜¯å¦å¯ä»¥ç«‹å³æƒ³å‡ºè¿™ä¸ªÂ `res`Â åˆ—è¡¨ä¸­å…ƒç´ çš„é¡ºåºæ˜¯æ€æ ·çš„ï¼Ÿæ¯”å¦‚å¦‚ä¸‹äºŒå‰æ ‘ï¼ˆ`#`Â ä»£è¡¨ç©ºæŒ‡é’ˆ nullï¼‰ï¼Œå¯ä»¥ç›´è§‚çœ‹å‡ºå‰åºéå†åšçš„äº‹æƒ…ï¼š
![[Pasted image 20240717001221.png]]

é‚£ä¹ˆÂ `res = [1,2,-1,4,-1,-1,3,-1,-1]`ï¼Œè¿™å°±æ˜¯å°†äºŒå‰æ ‘ã€Œæ‰“å¹³ã€åˆ°äº†ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œå…¶ä¸­ -1 ä»£è¡¨ nullã€‚

é‚£ä¹ˆï¼Œå°†äºŒå‰æ ‘æ‰“å¹³åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ä¹Ÿæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼š
```python
# ä»£è¡¨åˆ†éš”ç¬¦çš„å­—ç¬¦
SEP = ","
# ä»£è¡¨ null ç©ºæŒ‡é’ˆçš„å­—ç¬¦
NULL = "#"
# ç”¨äºæ‹¼æ¥å­—ç¬¦ä¸²
sb = []

# å°†äºŒå‰æ ‘æ‰“å¹³ä¸ºå­—ç¬¦ä¸²
def traverse(root: TreeNode, sb: List[str]):
    if not root:
        sb.append(NULL)
        sb.append(SEP)
        return

    /****** å‰åºä½ç½® ******/
    sb.append(str(root.val))
    sb.append(SEP)
    /***********************/

    traverse(root.left, sb)
    traverse(root.right, sb)
```
`StringBuilder`Â å¯ä»¥ç”¨äºé«˜æ•ˆæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œç”¨Â `,`Â ä½œä¸ºåˆ†éš”ç¬¦ï¼Œç”¨Â `#`Â è¡¨ç¤ºç©ºæŒ‡é’ˆ nullï¼Œè°ƒç”¨å®ŒÂ `traverse`Â å‡½æ•°åï¼Œ`sb`Â ä¸­çš„å­—ç¬¦ä¸²åº”è¯¥æ˜¯Â `1,2,#,4,#,#,3,#,#,`ã€‚

è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥å†™å‡ºåºåˆ—åŒ–å‡½æ•°Â `serialize`Â çš„ä»£ç äº†ï¼š
```python
SEP = ","
NULL = "#"

def serialize(root: TreeNode) -> str:
    sb = StringBuilder()
    serialize_helper(root, sb)
    return sb.toString()

def serialize_helper(root: TreeNode, sb: StringBuilder):
    if root is None:
        sb.append(NULL).append(SEP)
        return
    
    #å‰åºä½ç½®
    sb.append(root.val).append(SEP) 


    serialize_helper(root.left, sb)
    serialize_helper(root.right, sb)
```
ç°åœ¨ï¼Œæ€è€ƒä¸€ä¸‹å¦‚ä½•å†™Â `deserialize`Â å‡½æ•°ï¼Œå°†å­—ç¬¦ä¸²åè¿‡æ¥æ„é€ äºŒå‰æ ‘ã€‚

é¦–å…ˆæˆ‘ä»¬å¯ä»¥æŠŠå­—ç¬¦ä¸²è½¬åŒ–æˆåˆ—è¡¨ï¼š
```python
data = "1,2,#,4,#,#,3,#,#,"
nodes = data.split(",")
```
è¿™æ ·ï¼Œ`nodes`Â åˆ—è¡¨å°±æ˜¯äºŒå‰æ ‘çš„å‰åºéå†ç»“æœï¼Œé—®é¢˜è½¬åŒ–ä¸ºï¼šå¦‚ä½•é€šè¿‡äºŒå‰æ ‘çš„å‰åºéå†ç»“æœè¿˜åŸä¸€æ£µäºŒå‰æ ‘ï¼Ÿæ ¹æ®æˆ‘ä»¬åˆšæ‰çš„åˆ†æï¼Œ`nodes`Â åˆ—è¡¨å°±æ˜¯ä¸€æ£µæ‰“å¹³çš„äºŒå‰æ ‘ï¼š
![[Pasted image 20240717001334.png]]

é‚£ä¹ˆï¼Œååºåˆ—åŒ–è¿‡ç¨‹ä¹Ÿæ˜¯ä¸€æ ·ï¼Œ**å…ˆç¡®å®šæ ¹èŠ‚ç‚¹Â `root`ï¼Œç„¶åéµå¾ªå‰åºéå†çš„è§„åˆ™ï¼Œé€’å½’ç”Ÿæˆå·¦å³å­æ ‘å³å¯**ï¼š
```python
def deserialize(data: str) -> TreeNode:
    # å°†å­—ç¬¦ä¸²è½¬åŒ–æˆåˆ—è¡¨
    nodes = deque(data.split(SEP))
    return deserialize_helper(nodes)

def deserialize_helper(nodes: Deque[str]) -> TreeNode:
    if not nodes:
        return None
    
    # å‰åºä½ç½®
    # åˆ—è¡¨æœ€å·¦ä¾§å°±æ˜¯æ ¹èŠ‚ç‚¹
    first = nodes.popleft()
    if first == NULL:
        return None
    
    root = TreeNode(int(first))
    root.left = deserialize_helper(nodes)
    root.right = deserialize_helper(nodes)
    return root
```
æ ¹æ®æ ‘çš„é€’å½’æ€§è´¨ï¼Œ`nodes`Â åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯ä¸€æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥åªè¦å°†åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ å–å‡ºä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œå‰©ä¸‹çš„äº¤ç»™é€’å½’å‡½æ•°å»è§£å†³å³å¯ã€‚

